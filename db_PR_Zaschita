--
-- PostgreSQL database dump
--

-- Dumped from database version 17.4
-- Dumped by pg_dump version 17.4

-- Started on 2025-09-24 23:58:26

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 226 (class 1259 OID 36415)
-- Name: Authors; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Authors" (
    id integer NOT NULL,
    surname character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    patronymic character varying(255)
);


ALTER TABLE public."Authors" OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 36414)
-- Name: Authors_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Authors_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Authors_id_seq" OWNER TO postgres;

--
-- TOC entry 4954 (class 0 OID 0)
-- Dependencies: 225
-- Name: Authors_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Authors_id_seq" OWNED BY public."Authors".id;


--
-- TOC entry 228 (class 1259 OID 36424)
-- Name: Books; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Books" (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    price double precision NOT NULL,
    "GenreId" integer,
    "PublishingHouseId" integer,
    "AuthorId" integer
);


ALTER TABLE public."Books" OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 36423)
-- Name: Books_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Books_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Books_id_seq" OWNER TO postgres;

--
-- TOC entry 4955 (class 0 OID 0)
-- Dependencies: 227
-- Name: Books_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Books_id_seq" OWNED BY public."Books".id;


--
-- TOC entry 222 (class 1259 OID 36401)
-- Name: Genres; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Genres" (
    id integer NOT NULL,
    name character varying(255) NOT NULL
);


ALTER TABLE public."Genres" OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 36400)
-- Name: Genres_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Genres_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Genres_id_seq" OWNER TO postgres;

--
-- TOC entry 4956 (class 0 OID 0)
-- Dependencies: 221
-- Name: Genres_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Genres_id_seq" OWNED BY public."Genres".id;


--
-- TOC entry 224 (class 1259 OID 36408)
-- Name: Publishing_Houses; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Publishing_Houses" (
    id integer NOT NULL,
    name character varying(255) NOT NULL
);


ALTER TABLE public."Publishing_Houses" OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 36407)
-- Name: Publishing_Houses_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Publishing_Houses_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Publishing_Houses_id_seq" OWNER TO postgres;

--
-- TOC entry 4957 (class 0 OID 0)
-- Dependencies: 223
-- Name: Publishing_Houses_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Publishing_Houses_id_seq" OWNED BY public."Publishing_Houses".id;


--
-- TOC entry 218 (class 1259 OID 36377)
-- Name: Roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Roles" (
    id integer NOT NULL,
    "roleValue" character varying(255) NOT NULL
);


ALTER TABLE public."Roles" OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 36376)
-- Name: Roles_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Roles_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Roles_id_seq" OWNER TO postgres;

--
-- TOC entry 4958 (class 0 OID 0)
-- Dependencies: 217
-- Name: Roles_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Roles_id_seq" OWNED BY public."Roles".id;


--
-- TOC entry 220 (class 1259 OID 36384)
-- Name: Users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Users" (
    id integer NOT NULL,
    login character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    "roleId" integer DEFAULT 2 NOT NULL
);


ALTER TABLE public."Users" OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 36383)
-- Name: Users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Users_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public."Users_id_seq" OWNER TO postgres;

--
-- TOC entry 4959 (class 0 OID 0)
-- Dependencies: 219
-- Name: Users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Users_id_seq" OWNED BY public."Users".id;


--
-- TOC entry 4772 (class 2604 OID 36418)
-- Name: Authors id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Authors" ALTER COLUMN id SET DEFAULT nextval('public."Authors_id_seq"'::regclass);


--
-- TOC entry 4773 (class 2604 OID 36427)
-- Name: Books id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Books" ALTER COLUMN id SET DEFAULT nextval('public."Books_id_seq"'::regclass);


--
-- TOC entry 4770 (class 2604 OID 36404)
-- Name: Genres id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Genres" ALTER COLUMN id SET DEFAULT nextval('public."Genres_id_seq"'::regclass);


--
-- TOC entry 4771 (class 2604 OID 36411)
-- Name: Publishing_Houses id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Publishing_Houses" ALTER COLUMN id SET DEFAULT nextval('public."Publishing_Houses_id_seq"'::regclass);


--
-- TOC entry 4767 (class 2604 OID 36380)
-- Name: Roles id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Roles" ALTER COLUMN id SET DEFAULT nextval('public."Roles_id_seq"'::regclass);


--
-- TOC entry 4768 (class 2604 OID 36387)
-- Name: Users id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Users" ALTER COLUMN id SET DEFAULT nextval('public."Users_id_seq"'::regclass);


--
-- TOC entry 4946 (class 0 OID 36415)
-- Dependencies: 226
-- Data for Name: Authors; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Authors" (id, surname, name, patronymic) FROM stdin;
1	Герберт	Фрэнк	\N
2	Лавкрафт	Говард	\N
\.


--
-- TOC entry 4948 (class 0 OID 36424)
-- Dependencies: 228
-- Data for Name: Books; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Books" (id, name, price, "GenreId", "PublishingHouseId", "AuthorId") FROM stdin;
1	Данвический ужас	4.99	2	1	2
2	Дюна	5.99	1	2	1
\.


--
-- TOC entry 4942 (class 0 OID 36401)
-- Dependencies: 222
-- Data for Name: Genres; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Genres" (id, name) FROM stdin;
1	Фантастика
2	Ужасы
\.


--
-- TOC entry 4944 (class 0 OID 36408)
-- Dependencies: 224
-- Data for Name: Publishing_Houses; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Publishing_Houses" (id, name) FROM stdin;
1	АСТ
2	Эксмо
\.


--
-- TOC entry 4938 (class 0 OID 36377)
-- Dependencies: 218
-- Data for Name: Roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Roles" (id, "roleValue") FROM stdin;
1	Юзер
2	Админ
\.


--
-- TOC entry 4940 (class 0 OID 36384)
-- Dependencies: 220
-- Data for Name: Users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Users" (id, login, password, "roleId") FROM stdin;
1	Илья	123	2
2	Олег	321	1
3	Макар	1	1
\.


--
-- TOC entry 4960 (class 0 OID 0)
-- Dependencies: 225
-- Name: Authors_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Authors_id_seq"', 2, true);


--
-- TOC entry 4961 (class 0 OID 0)
-- Dependencies: 227
-- Name: Books_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Books_id_seq"', 2, true);


--
-- TOC entry 4962 (class 0 OID 0)
-- Dependencies: 221
-- Name: Genres_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Genres_id_seq"', 2, true);


--
-- TOC entry 4963 (class 0 OID 0)
-- Dependencies: 223
-- Name: Publishing_Houses_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Publishing_Houses_id_seq"', 2, true);


--
-- TOC entry 4964 (class 0 OID 0)
-- Dependencies: 217
-- Name: Roles_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Roles_id_seq"', 2, true);


--
-- TOC entry 4965 (class 0 OID 0)
-- Dependencies: 219
-- Name: Users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Users_id_seq"', 3, true);


--
-- TOC entry 4785 (class 2606 OID 36422)
-- Name: Authors Authors_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Authors"
    ADD CONSTRAINT "Authors_pkey" PRIMARY KEY (id);


--
-- TOC entry 4787 (class 2606 OID 36429)
-- Name: Books Books_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Books"
    ADD CONSTRAINT "Books_pkey" PRIMARY KEY (id);


--
-- TOC entry 4781 (class 2606 OID 36406)
-- Name: Genres Genres_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Genres"
    ADD CONSTRAINT "Genres_pkey" PRIMARY KEY (id);


--
-- TOC entry 4783 (class 2606 OID 36413)
-- Name: Publishing_Houses Publishing_Houses_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Publishing_Houses"
    ADD CONSTRAINT "Publishing_Houses_pkey" PRIMARY KEY (id);


--
-- TOC entry 4775 (class 2606 OID 36382)
-- Name: Roles Roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Roles"
    ADD CONSTRAINT "Roles_pkey" PRIMARY KEY (id);


--
-- TOC entry 4777 (class 2606 OID 36394)
-- Name: Users Users_login_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Users"
    ADD CONSTRAINT "Users_login_key" UNIQUE (login);


--
-- TOC entry 4779 (class 2606 OID 36392)
-- Name: Users Users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Users"
    ADD CONSTRAINT "Users_pkey" PRIMARY KEY (id);


--
-- TOC entry 4789 (class 2606 OID 36440)
-- Name: Books Books_AuthorId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Books"
    ADD CONSTRAINT "Books_AuthorId_fkey" FOREIGN KEY ("AuthorId") REFERENCES public."Authors"(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- TOC entry 4790 (class 2606 OID 36430)
-- Name: Books Books_GenreId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Books"
    ADD CONSTRAINT "Books_GenreId_fkey" FOREIGN KEY ("GenreId") REFERENCES public."Genres"(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- TOC entry 4791 (class 2606 OID 36435)
-- Name: Books Books_PublishingHouseId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Books"
    ADD CONSTRAINT "Books_PublishingHouseId_fkey" FOREIGN KEY ("PublishingHouseId") REFERENCES public."Publishing_Houses"(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- TOC entry 4788 (class 2606 OID 36395)
-- Name: Users Users_roleId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Users"
    ADD CONSTRAINT "Users_roleId_fkey" FOREIGN KEY ("roleId") REFERENCES public."Roles"(id) ON UPDATE CASCADE ON DELETE CASCADE;


-- Completed on 2025-09-24 23:58:26

--
-- PostgreSQL database dump complete
--

